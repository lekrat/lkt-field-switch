(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue"),require("lkt-string-tools"),require("lkt-events")):typeof define=="function"&&define.amd?define(["vue","lkt-string-tools","lkt-events"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.LktFieldSwitch=o(e.Vue,e.LktStringTools,e.LktEvents))})(this,function(e,o,c){"use strict";const y=["data-labeled"],h=["name","id","disabled","readonly","placeholder"],k=["for","innerHTML"],g={name:"LktFieldSwitch",inheritAttrs:!1},b=e.defineComponent({...g,props:{modelValue:{type:Boolean,default:!1},placeholder:{type:String,default:""},label:{type:String,default:""},palette:{type:String,default:""},name:{type:String,default:o.generateRandomString(16)},valid:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},readMode:{type:Boolean,default:!1},allowReadModeSwitch:{type:Boolean,default:!1},tabindex:{type:Number,default:void 0},mandatory:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},resetMessage:{type:String,default:""},mandatoryMessage:{type:String,default:""},infoMessage:{type:String,default:""},errorMessage:{type:String,default:""},switchEditionMessage:{type:String,default:""}},emits:["update:modelValue","focus","blur","click","click-info","click-error"],setup(n,{expose:S,emit:V}){const i=V,s=e.useSlots(),l=n,d=o.generateRandomString(16),r=e.ref(null),p=e.ref(l.modelValue),a=e.ref(l.modelValue),u=e.ref(!1);e.ref(!l.readMode);const B=e.computed(()=>typeof l.valid=="function"?l.valid():l.valid),w=e.computed(()=>a.value!==p.value),M=e.computed(()=>{const t=["lkt-field","lkt-field-switch"];return l.palette&&t.push(`lkt-field--${l.palette}`),w.value&&t.push("is-changed"),l.disabled&&t.push("is-disabled"),u.value&&t.push("has-focus"),t.push(B.value?"is-valid":"is-error"),t.push(l.modelValue?"is-filled":"is-empty"),t.join(" ")}),L=()=>{e.nextTick(()=>{r.value&&r.value.focus()})};e.watch(()=>l.modelValue,t=>a.value=t),e.watch(a,t=>i("update:modelValue",t));const v=()=>a.value=p.value,x=()=>a.value,E=t=>(u.value=!0)&&i("focus",t,c.createLktEvent(d,{value:a.value})),C=t=>(u.value=!1)&&i("blur",t,c.createLktEvent(d,{value:a.value}));return S({Identifier:d,reset:v,focus:L,value:x,isMandatory:()=>l.mandatory}),(t,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(M.value),"data-labeled":!e.unref(s).label},[e.renderSlot(t.$slots,"prefix"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":m[0]||(m[0]=f=>a.value=f),type:"checkbox",ref:f=>r.value=f,name:n.name,id:e.unref(d),disabled:n.disabled,readonly:n.readonly,placeholder:n.placeholder,onFocus:E,onBlur:C},null,40,h),[[e.vModelCheckbox,a.value]]),e.unref(s).label?e.renderSlot(t.$slots,"label",{key:0}):e.createCommentVNode("",!0),e.unref(s).label?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("label",{key:1,for:e.unref(d),innerHTML:n.label},null,8,k))],10,y))}});return{install:n=>{n.component("lkt-field-switch",b)}}});
