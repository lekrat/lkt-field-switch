(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue"),require("lkt-string-tools"),require("lkt-events")):typeof define=="function"&&define.amd?define(["vue","lkt-string-tools","lkt-events"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.LktFieldSwitch=o(e.Vue,e.LktStringTools,e.LktEvents))})(this,function(e,o,c){"use strict";const y=["data-labeled"],k=["name","id","disabled","readonly","placeholder","value","checked"],g=["for","innerHTML"],b={name:"LktFieldSwitch",inheritAttrs:!1},S=e.defineComponent({...b,props:{modelValue:{type:Boolean,default:!1},placeholder:{type:String,default:""},label:{type:String,default:""},palette:{type:String,default:""},name:{type:String,default:o.generateRandomString(16)},valid:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},readMode:{type:Boolean,default:!1},allowReadModeSwitch:{type:Boolean,default:!1},tabindex:{type:Number,default:void 0},mandatory:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},resetMessage:{type:String,default:""},mandatoryMessage:{type:String,default:""},infoMessage:{type:String,default:""},errorMessage:{type:String,default:""},switchEditionMessage:{type:String,default:""}},emits:["update:modelValue","focus","blur","click","click-info","click-error"],setup(n,{expose:v,emit:V}){const i=V,s=e.useSlots(),l=n,d=o.generateRandomString(16),r=e.ref(null),p=e.ref(l.modelValue),a=e.ref(l.modelValue),m=e.ref(a.value?"true":"false"),u=e.ref(!1),B=e.ref(!l.readMode),w=e.computed(()=>typeof l.valid=="function"?l.valid():l.valid),M=e.computed(()=>a.value!==p.value),L=e.computed(()=>{const t=["lkt-field","lkt-field-switch"];return l.palette&&t.push(`lkt-field--${l.palette}`),M.value&&t.push("is-changed"),l.disabled&&t.push("is-disabled"),u.value&&t.push("has-focus"),t.push(w.value?"is-valid":"is-error"),t.push(l.modelValue?"is-filled":"is-empty"),t.join(" ")}),x=()=>{e.nextTick(()=>{r.value&&r.value.focus()})};e.watch(()=>l.modelValue,t=>a.value=t),e.watch(a,t=>(m.value=a.value?"true":"false")&&i("update:modelValue",t));const E=()=>a.value=p.value,C=()=>a.value,F=t=>(u.value=!0)&&i("focus",t,c.createLktEvent(d,{value:a.value})),T=t=>(u.value=!1)&&i("blur",t,c.createLktEvent(d,{value:a.value}));return v({Identifier:d,reset:E,focus:x,value:C,isMandatory:()=>l.mandatory}),(t,h)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(L.value),"data-labeled":!e.unref(s).label},[e.renderSlot(t.$slots,"prefix"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":h[0]||(h[0]=f=>a.value=f),type:"checkbox",ref:f=>r.value=f,name:n.name,id:e.unref(d),disabled:n.disabled||!B.value,readonly:n.readonly,placeholder:n.placeholder,value:m.value,checked:a.value,onFocus:F,onBlur:T},null,40,k),[[e.vModelCheckbox,a.value]]),e.unref(s).label?e.renderSlot(t.$slots,"label",{key:0}):e.createCommentVNode("",!0),e.unref(s).label?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("label",{key:1,for:e.unref(d),innerHTML:n.label},null,8,g))],10,y))}});return{install:n=>{n.component("lkt-field-switch",S)}}});
